string $selectedObjs[] = `ls -sl`;
string $strDir    = "G:/GoogleDrive/VFX/RESOURCES/REPOSITORY/VEHICLES/CARS/ELECTRIC_TRANSMISSION/TEXTURES/";
for ($obj in $selectedObjs){
	string $newMat    = `shadingNode -asShader "RedshiftMaterial"`;
	string $rnMat     = `rename $newMat ($obj + "_RS")`;
	string $newSG     = `sets -renderable true -noSurfaceShader true -empty -name ($rnMat + "SG")`;

	string $fileNodeColor        = `shadingNode -asTexture filePathEditor -repath ($strDir + $obj + "_Color") file -name ($obj + "_Color")`;
	string $fileNodeDiffuse      = `shadingNode -asTexture filePathEditor -repath ($strDir + $obj + "_Diffuse") file -name ($obj + "_Diffuse")`;
	string $fileNodeMetalness    = `shadingNode -asTexture filePathEditor -repath ($strDir + $obj + "_Metalness") file -name ($obj + "_Metalness")`;
	string $fileNodeRoughness    = `shadingNode -asTexture filePathEditor -repath ($strDir + $obj + "_Roughness") file -name ($obj + "_Roughness")`;
	
	connectAttr -f ( $fileNodeColor + ".outColor" ) ( $obj + ".diffuse_color" );
	connectAttr -f ( $fileNodeDiffuse + ".outAlpha" ) ( $obj + ".diffuse_weight" );
	connectAttr -f ( $fileNodeMetalness + ".outAlpha" ) ( $obj + ".refl_weight" );
	connectAttr -f ( $fileNodeRoughness + ".outAlpha" ) ( $obj + ".refl_roughness" );

	connectAttr -f ($rnMat + ".outColor") ($newSG + ".surfaceShader");
	sets -e -forceElement $newSG $obj;
}
